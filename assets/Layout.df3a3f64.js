import{n as l,d as u,l as p,a as f,w as y,s as v,c as s,g as o,M as c}from"./index.43295e45.js";import{A as b}from"./AnimationBox.9f472003.js";import{g as r}from"./vendor.4f0eb98f.js";import"./main.94eb636e.js";var T=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"varlet-site-mobile"},[t("div",{staticClass:"varlet-site-mobile-content"},[t("iframe",{attrs:{id:"mobile",src:"./mobile.html#/"+e.componentName+"?language="+e.language+"&platform=pc&replace="+e.replace}})])])},M=[];const $={name:"AppMobile",props:{componentName:{type:String},language:{type:String},replace:{type:String}}},_={};var C=l($,T,M,!1,N,"10e7f29b",null,null);function N(e){for(let a in _)this[a]=_[a]}var w=function(){return C.exports}(),x=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"varlet-site-header"},[t("div",{staticClass:"varlet-site-header__lead",on:{click:e.backRoot}},[t("animation-box",{staticClass:"varlet-site-header__logo"}),e.title?t("div",{staticClass:"varlet-site-header__title"},[e._v(e._s(e.title))]):e._e()],1),t("div",{staticClass:"varlet-site-header__tail"},[e.versionItems?t("div",{staticClass:"varlet-site-header__versions",on:{mouseenter:function(n){e.isOpenVersionsMenu=!0},mouseleave:function(n){e.isOpenVersionsMenu=!1}}},[t("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(e.currentVersion))]),t("var-site-icon",{attrs:{name:"chevron-down"}}),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpenVersionsMenu,expression:"isOpenVersionsMenu"}],staticClass:"varlet-site-header__animation-list varlet-site-header__animation-versions var-site-elevation--5",style:{pointerEvents:e.isOpenVersionsMenu?"auto":"none"}},e._l(e.nonEmptyVersions,function(n,i){return t("var-site-cell",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,nativeOn:{click:function(m){return e.open(n)}}},[e._v(e._s(i)+" ")])}),1)])],1):e._e(),e.playground?t("a",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"varlet-site-header__link",attrs:{target:"_blank",href:e.playground}},[t("var-site-icon",{attrs:{name:"code-json",size:24}})],1):e._e(),e.github?t("a",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"varlet-site-header__link",attrs:{target:"_blank",href:e.github}},[t("var-site-icon",{attrs:{name:"github",size:28}})],1):e._e(),e.darkMode?t("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"varlet-site-header__theme",on:{click:e.toggleTheme}},[t("var-site-icon",{style:{marginBottom:e.currentThemes==="darkThemes"&&"2px",marginTop:e.currentThemes==="themes"&&"2px"},attrs:{size:"26px",name:e.currentThemes==="themes"?"white-balance-sunny":"weather-night"}})],1):e._e(),e.languages?t("div",{staticClass:"varlet-site-header__language",on:{mouseenter:function(n){e.isOpenLanguageMenu=!0},mouseleave:function(n){e.isOpenLanguageMenu=!1}}},[t("var-site-icon",{attrs:{name:"translate",size:"26px"}}),t("var-site-icon",{attrs:{name:"chevron-down"}}),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpenLanguageMenu,expression:"isOpenLanguageMenu"}],staticClass:"varlet-site-header__animation-list var-site-elevation--5",style:{pointerEvents:e.isOpenLanguageMenu?"auto":"none"}},e._l(e.nonEmptyLanguages,function(n,i){return t("var-site-cell",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,class:{"varlet-site-header__animation-list--active":e.language===i},nativeOn:{click:function(m){return e.handleLanguageChange(i)}}},[e._v(" "+e._s(n)+" ")])}),1)])],1):e._e()])])},L=[];const k=u({name:"AppHeader",props:{language:{type:String}},computed:{nonEmptyLanguages(){return p(this.languages)},nonEmptyVersions(){return p(this.versionItems)}},data:()=>({title:r(s,"title"),redirect:r(s,"pc.redirect"),themesKey:r(s,"themesKey"),languages:r(s,"pc.header.i18n"),currentVersion:r(s,"pc.header.version.current"),versionItems:r(s,"pc.header.version.items"),playground:r(s,"pc.header.playground"),github:r(s,"pc.header.github"),darkMode:r(s,"pc.header.darkMode"),currentThemes:f(r(s,"themesKey")),isOpenLanguageMenu:!1,isOpenVersionsMenu:!1}),created(){y(this,(e,a)=>{a==="mobile"&&this.setCurrentThemes(e)}),v(s,this.currentThemes),window.postMessage(this.getThemesMessage(),"*")},methods:{open(e){setTimeout(()=>{window.location.href=e},350)},backRoot(){const{language:e}=o();this.$router.replace(`/${e}${this.redirect}`)},handleLanguageChange(e){const{menuName:a}=o();this.$router.replace(`/${e}/${a}`),this.isOpenLanguageMenu=!1},setCurrentThemes(e){this.currentThemes=e,v(s,this.currentThemes),window.localStorage.setItem(this.themesKey,this.currentThemes)},getThemesMessage(){return{action:"themesChange",from:"pc",data:this.currentThemes}},toggleTheme(){var e;this.setCurrentThemes(this.currentThemes==="darkThemes"?"themes":"darkThemes"),window.postMessage(this.getThemesMessage(),"*"),(e=document.getElementById("mobile").contentWindow)==null||e.postMessage(this.getThemesMessage(),"*")}},components:{AnimationBox:b}}),d={};var E=l(k,x,L,!1,O,"54231d7b",null,null);function O(e){for(let a in d)this[a]=d[a]}var S=function(){return E.exports}(),I=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"varlet-site-sidebar var-elevation--3"},e._l(e.menu,function(n,i){return t("var-site-cell",{directives:[{name:"ripple",rawName:"v-ripple",value:{touchmoveForbid:!1,disabled:n.type===e.menuTypes.TITLE,color:e.themes["color-side-bar"]},expression:`{
      touchmoveForbid: false,
      disabled: item.type === menuTypes.TITLE,
      color: themes['color-side-bar']
    }`}],key:i,staticClass:"varlet-site-sidebar__item",class:{"varlet-site-sidebar__item--active":n.doc===e.menuName,"varlet-site-sidebar__link":n.type!==e.menuTypes.TITLE,"varlet-site-sidebar__title":n.type===e.menuTypes.TITLE},attrs:{id:n.doc},nativeOn:{click:function(m){return e.changeRoute(n)}}},[n.type===e.menuTypes.TITLE?t("span",{staticClass:"varlet-site-sidebar__item--title"},[e._v(e._s(n.text[e.language]))]):t("span",[e._v(e._s(n.text[e.language]))])])}),1)},A=[];const V=u({name:"AppSidebar",props:{menu:{type:Array},menuName:{type:String},language:{type:String}},data:()=>({menuTypes:c,themes:r(s,"themes")}),methods:{changeRoute(e){e.type===c.TITLE||this.menuName===e.doc||this.$emit("change",e)}}}),h={};var R=l(V,I,A,!1,B,"04d8fb13",null,null);function B(e){for(let a in h)this[a]=h[a]}var z=function(){return R.exports}(),F=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"varlet-site"},[t("app-header",{attrs:{language:e.language}}),t("div",{staticClass:"varlet-site-content"},[t("app-sidebar",{attrs:{language:e.language,menu:e.menu,"menu-name":e.menuName},on:{change:e.handleSidebarChange}}),t("div",{ref:"doc",staticClass:"varlet-site-doc-container",class:[!e.useMobile&&"varlet-site-doc-container--pc-only"]},[t("router-view")],1),t("app-mobile",{directives:[{name:"show",rawName:"v-show",value:e.useMobile,expression:"useMobile"}],attrs:{"component-name":e.componentName,language:e.language,replace:e.menuName}})],1)],1)},j=[];const K=u({components:{AppMobile:w,AppHeader:S,AppSidebar:z},data:()=>({defaultLanguage:r(s,"defaultLanguage"),menu:r(s,"pc.menu",[]),useMobile:r(s,"useMobile"),mobileRedirect:r(s,"mobile.redirect"),language:"",componentName:null,menuName:""}),mounted(){this.init()},watch:{"$route.path":{handler(){const{language:e,menuName:a}=o();!e||!a||(this.componentName=this.getComponentNameByMenuName(a),this.menuName=a,this.language=e,document.title=r(s,"pc.title")[e])},immediate:!0}},methods:{getComponentNameByMenuName(e){const a=this.menu.find(t=>t.doc===e);return(a==null?void 0:a.type)===c.COMPONENT?e:this.mobileRedirect.slice(1)},init(){const{menuName:e}=o();this.$nextTick(()=>{var n;const a=(n=document.querySelector(".varlet-site-sidebar"))==null?void 0:n.getElementsByClassName("var-site-cell"),t=this.menu.findIndex(i=>i.doc===e);t!==-1&&a[t].scrollIntoView({block:"center",inline:"start"})})},handleSidebarChange(e){this.$refs.doc.scrollTop=0,this.componentName=this.getComponentNameByMenuName(e.doc),this.menuName=e.doc}}}),g={};var H=l(K,F,j,!1,P,null,null,null);function P(e){for(let a in g)this[a]=g[a]}var J=function(){return H.exports}();export{J as default};
